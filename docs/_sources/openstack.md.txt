# OpenStack

https://docs.openstack.org/kolla-ansible/latest/user/quickstart.html

```powershell
function Out-FileNoBom {
    param(
        [parameter(Mandatory)]$LiteralPath,
        [parameter(Mandatory)]$InputObject
    )
    $FullName = $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath($LiteralPath)
    [System.IO.File]::WriteAllLines($FullName, $InputObject)
}

$Text = @"
Vagrant.configure("2") do |config|
  config.vm.box = "ubuntu/focal64"
  config.vm.provider "virtualbox" do |vb|
    vb.customize [ "modifyvm", :id, "--audio", "none" ]
  end
  config.vm.provider "virtualbox" do |vb|
    vb.memory = "8192"
  end
  config.vm.network "private_network", type: "dhcp"
end
"@

Out-FileNoBom -LiteralPath Vagrantfile -InputObject $Text
```

```text
        |
        Gateway
        | .2
        |
       -o---o- 10.0.2.0/24
            |
            | VirtualBox
            |   NAT
            |   port forwarding:
            |     rule:
            |       ssh TCP 127.0.0.1:2222 -> 22
            | .15
            enp0s3 (NAT)
            Hostname: ubuntu-focal
            enp0s8 (Host only adapter)
            | 172.28.128.3/24
            |
```

```bash
sudo apt update
sudo apt install python3-dev libffi-dev gcc libssl-dev -y
sudo apt install python3-venv -y
python3 -m venv venv
source venv/bin/activate
pip install -U pip
pip install 'ansible==5.*'

pip install git+https://opendev.org/openstack/kolla-ansible@master

sudo mkdir -p /etc/kolla
sudo chown $USER:$USER /etc/kolla

# ここまで
```
